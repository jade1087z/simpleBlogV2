{"ast":null,"code":"import axios from\"axios\";import React,{useState}from\"react\";import Image from\"./Image\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Write=()=>{const[title,setTitle]=useState(\"\");const[content,setContent]=useState(\"\");const[image,setImage]=useState();let navigate=useNavigate();const onSubmit=e=>{e.preventDefault();if(title===\"\"&&content===\"\"){return alert(\"글을 작성하세요\");}let body={title:title,content:content,image:image};axios.post(\"/api/post/write\",body).then(res=>{if(res.data.success){alert(\"게시글 작성이 완료되었습니다.\");navigate(\"/list\");}else{alert(\"게시글 작성이 실패하였습니다..\");}}).catch(err=>{console.log(err);alert(\"게시글 작성이 실패하였습니다..\");});};return/*#__PURE__*/_jsx(\"section\",{id:\"login\",className:\"join\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login__inner\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uAC8C\\uC2DC\\uAE00 \\uC791\\uC131!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login_form btStyle bmStyle\",children:/*#__PURE__*/_jsx(\"form\",{action:\"#\",name:\"#\",method:\"post\",children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"legend\",{className:\"blind\",children:\"\\uAC8C\\uC2DC\\uAE00 \\uC791\\uC131\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"youEmail\",className:\"required blind\",children:\"title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",placeholder:\"title\",onChange:e=>{setTitle(e.currentTarget.value);},autoComplete:\"off\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",id:\"content\",cols:\"30\",rows:\"11\",onChange:e=>{setContent(e.currentTarget.value);},style:{width:\"590px\"}})]}),/*#__PURE__*/_jsx(Image,{setImage:setImage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"post__btn\",onClick:e=>onSubmit(e),children:\"POST\"})]})})})]})});};export default Write;","map":{"version":3,"names":["axios","React","useState","Image","useNavigate","jsx","_jsx","jsxs","_jsxs","Write","title","setTitle","content","setContent","image","setImage","navigate","onSubmit","e","preventDefault","alert","body","post","then","res","data","success","catch","err","console","log","id","className","children","action","name","method","htmlFor","type","placeholder","onChange","currentTarget","value","autoComplete","required","cols","rows","style","width","onClick"],"sources":["C:/Users/line/Documents/GitHub/simpleBlogV2/client/src/components/post/Write.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport Image from \"./Image\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nconst Write = () => {\r\n    const [title, setTitle] = useState(\"\");\r\n    const [content, setContent] = useState(\"\");\r\n    const [image, setImage] = useState();\r\n\r\n    let navigate = useNavigate();\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (title === \"\" && content === \"\") {\r\n            return alert(\"글을 작성하세요\");\r\n        }\r\n\r\n        let body = {\r\n            title: title,\r\n            content: content,\r\n            image: image,\r\n        };\r\n        axios\r\n            .post(\"/api/post/write\", body)\r\n            .then((res) => {\r\n                if (res.data.success) {\r\n                    alert(\"게시글 작성이 완료되었습니다.\");\r\n                    navigate(\"/list\");\r\n                } else {\r\n                    alert(\"게시글 작성이 실패하였습니다..\");\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                alert(\"게시글 작성이 실패하였습니다..\");\r\n            });\r\n    };\r\n\r\n    return (\r\n        <section id=\"login\" className=\"join\">\r\n            <div className=\"login__inner\">\r\n                <h2>게시글 작성!</h2>\r\n                <div className=\"login_form btStyle bmStyle\">\r\n                    <form action=\"#\" name=\"#\" method=\"post\">\r\n                        <fieldset>\r\n                            <legend className=\"blind\">게시글 작성</legend>\r\n                            <div>\r\n                                <label\r\n                                    htmlFor=\"youEmail\"\r\n                                    className=\"required blind\"\r\n                                >\r\n                                    title\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"title\"\r\n                                    name=\"title\"\r\n                                    placeholder=\"title\"\r\n                                    onChange={(e) => {\r\n                                        setTitle(e.currentTarget.value);\r\n                                    }}\r\n                                    autoComplete=\"off\"\r\n                                    required\r\n                                />\r\n                                <textarea\r\n                                    name=\"content\"\r\n                                    id=\"content\"\r\n                                    cols=\"30\"\r\n                                    rows=\"11\"\r\n                                    onChange={(e) => {\r\n                                        setContent(e.currentTarget.value);\r\n                                    }}\r\n                                    style={{ width: \"590px\" }}\r\n                                ></textarea>\r\n                            </div>\r\n\r\n                            <Image setImage={setImage} />\r\n\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"post__btn\"\r\n                                onClick={(e) => onSubmit(e)}\r\n                            >\r\n                                POST\r\n                            </button>\r\n                        </fieldset>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Write;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}